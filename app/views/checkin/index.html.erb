<h1>Check-in System</h1>

<table class="table table-striped">
  <thead class="thead-dark">
    <tr>
      <th scope="col">#</th>
      <th scope="col">Date</th>
      <th scope="col">Customer</th>
      <th scope="col">Technician</th>
      <th scope="col">Services</th>
    </tr>
  </thead>
  <tbody>
    <% count = 0%>
    <% @checkins.each do |checkin|%>
    <tr>
      <% count +=1 %>
      <th scope="row"><%= count%></th>
      <td><%= checkin.date.strftime("%F")%></td>
      <td>
        <%= link_to(checkin.customers[0].first_name + ' ' + checkin.customers[0].last_name, customer_path(checkin.customers[0]))%>
      </td>
      <td>
        <% tech = []%>
        <% checkin.technicians.each do |technician|%>
        <% tech.push(technician.name)%>
        <% end %>
        <%= tech * ", "%>
      </td>
      <td>
        <% ser = []%>
        <% checkin.services.each do |service|%>
        <% ser.push(service.name)%>
        <% end %>
        <%= ser * ", "%>
      </td>
    </tr>
    <% end %>
  </tbody>
</table>
<%= paginate @checkins%>